<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Server logic for defining a single scenario — single_scenario_server • hiaR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Server logic for defining a single scenario — single_scenario_server"><meta name="description" content="Server logic for defining a single scenario"><meta property="og:description" content="Server logic for defining a single scenario"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hiaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/hiaR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/reference_data.html">Create reference data</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/citation.html">Citation</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Dynamo-HIA/hiaR"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Server logic for defining a single scenario</h1>

      <div class="d-none name"><code>single_scenario_server.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Server logic for defining a single scenario</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">single_scenario_server</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  <span class="va">reference_data</span>,</span>
<span>  <span class="va">prevalence_and_transition_choices</span>,</span>
<span>  <span class="va">selected_risk_factors</span>,</span>
<span>  <span class="va">debug</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>A character string. The ID used to namespace the server-side logic.
It should match the id of the corresponding UI elements.</p></dd>


<dt id="arg-reference-data">reference_data<a class="anchor" aria-label="anchor" href="#arg-reference-data"></a></dt>
<dd><p>A reactive expression. The expression determines the return
value of the server.</p></dd>


<dt id="arg-prevalence-and-transition-choices">prevalence_and_transition_choices<a class="anchor" aria-label="anchor" href="#arg-prevalence-and-transition-choices"></a></dt>
<dd><p>A reactive value that returns a list
of two character vector of choices. The names should be <code>prevalences</code> and
<code>transitions</code>. The choices are the baseline choices for the scenario, but
they can be narrowed down depending on <code>selected_risk_factors</code>
and each other's value.</p></dd>


<dt id="arg-selected-risk-factors">selected_risk_factors<a class="anchor" aria-label="anchor" href="#arg-selected-risk-factors"></a></dt>
<dd><p>A reactive value that returns a list of two
character vectors, named <code>prevalences</code> and <code>transitions</code>. The reactive value
is the output from a <a href="risk_factor_server.html">risk_factor_server</a>.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>A boolean indicating debug mode. If TRUE, some messages
are printed to the console.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>reference_data</code> returns <code>NULL</code>, the server returns an empty list.
Otherwise, it returns a list where each element is taken from the UI inputs.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The argument <code>prevalence_and_transition_choices</code> is the universe of possible
values that the user can select in the scenario. However, depending on what
risk factors the user chose in the risk factor tab, the choice of transitions
or prevalences for the scenario may be limited:</p>
<p><em>In a scenario you must chose either a different transition dataset or a different
risk factor prevalence dataset from that chosen on the risk factor tab. Therefore, if the
risk factor prevalence is the same as that on the risk factor tab, the transition dataset
from the risk factor tab will not be visible, and visa versa. It can occur that the list of
choices is not refreshed correctly after changing the other choice. In that case the dataset
does not reappear in the list after changing the other choice. Clicking on the risk factor
tab and back to the scenario tab will solve this.</em></p>
<p>(source: https://www.dynamo-hia.eu/sites/default/files/2018-04/DYNAMO_USERMANUAL_2.0.8.pdf, p. 39)</p>
<p>For this reason, the <code>selected_risk_factors</code> argument is also necessary for the server.
The filtering logic is implemented in <a href="filter_items.html">filter_items</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="filter_items.html">filter_items()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hendriek Boshuizen, Malte Lüken, Flavio Hafner, Laurens Bogaardt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

